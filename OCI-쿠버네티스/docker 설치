

# root 로 실행
[root@inst-public ~]# yum install docker-engine -y
...
....
Dependency Installed:
  container-selinux.noarch 2:2.107-3.el7           containerd.x86_64 0:1.4.8-1.el7           criu.x86_64 0:3.12-2.el7
  docker-cli.x86_64 0:19.03.11.ol-13.el7           libnet.x86_64 0:1.1.6-7.el7               protobuf-c.x86_64 0:1.0.2-3.el7
  runc.x86_64 3:1.0.0-1.rc95.el7

Complete!

# docker enable
[root@inst-public ~]# systemctl enable docker
Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.

# docker start 실행
[root@inst-public ~]# systemctl start docker

# docker status 상태확인
[root@inst-public ~]# systemctl status docker.service
● docker.service - Docker Application Container Engine
   Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; vendor preset: disabled)
   Active: active (running) since Mon 2021-08-23 04:55:10 GMT; 13s ago
     Docs: https://docs.docker.com
 Main PID: 1344 (dockerd)

# docker 버전확인
[root@inst-public ~]# docker -v
Docker version 19.03.11-ol, build 9bb540d


# opc 계정에서 docker 사용가능하게 권한부여
usermod -aG docker opc
systemctl restart docker

opc 계정에서 docker -v 확인


# oci 인증 토큰 생성
sudo docker login -u apackrsct01/oracleidentitycloudservice/wasgosu.lee@oracle.com iad.ocir.io

cW)E:XKP2SXlLNQh}R7W

(샘플)
[opc@inst-public ~]$ sudo docker login -u apackrsct01/oracleidentitycloudservice/wasgosu.lee@oracle.com iad.ocir.io
Password:
WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
[opc@inst-public ~]$


# 이미지 업로드
docker tag nginx iad.ocir.io/apackrsct01/ocir-sample-nginx:1.0.demo

# OCI 레지스트리에 push 진행
docker push iad.ocir.io/apackrsct01/ocir-sample-nginx:1.0.demo







