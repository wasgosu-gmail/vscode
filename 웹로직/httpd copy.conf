ServerRoot "${ORACLE_INSTANCE}/config/fmwconfig/components/${COMPONENT_TYPE}/instances/${COMPONENT_NAME}"
DefaultRuntimeDir "${ORACLE_INSTANCE}/servers/${COMPONENT_NAME}/logs"

Listen 7778

LoadModule ora_audit_module "${PRODUCT_HOME}/modules/mod_ora_audit.so"
LoadModule env_module "${PRODUCT_HOME}/modules/mod_env.so"
LoadModule log_config_module "${PRODUCT_HOME}/modules/mod_log_config.so"
LoadModule mime_magic_module "${PRODUCT_HOME}/modules/mod_mime_magic.so"
LoadModule mime_module "${PRODUCT_HOME}/modules/mod_mime.so"
LoadModule negotiation_module "${PRODUCT_HOME}/modules/mod_negotiation.so"
LoadModule status_module "${PRODUCT_HOME}/modules/mod_status.so"
LoadModule info_module "${PRODUCT_HOME}/modules/mod_info.so"
LoadModule include_module "${PRODUCT_HOME}/modules/mod_include.so"
LoadModule autoindex_module "${PRODUCT_HOME}/modules/mod_autoindex.so"
LoadModule dir_module "${PRODUCT_HOME}/modules/mod_dir.so"

<IfDefine OHS_MPM_WINNT>
 LoadModule cgi_module "${PRODUCT_HOME}/modules/mod_cgi.so"
</IfDefine>
<IfDefine OHS_MPM_EVENT>
 LoadModule cgid_module "${PRODUCT_HOME}/modules/mod_cgid.so"
</IfDefine>
<IfDefine OHS_MPM_PREFORK>
 LoadModule cgi_module "${PRODUCT_HOME}/modules/mod_cgi.so"
</IfDefine>
<IfDefine OHS_MPM_WORKER>
 LoadModule cgid_module "${PRODUCT_HOME}/modules/mod_cgid.so"
</IfDefine>

LoadModule asis_module "${PRODUCT_HOME}/modules/mod_asis.so"
LoadModule imagemap_module "${PRODUCT_HOME}/modules/mod_imagemap.so"
LoadModule actions_module "${PRODUCT_HOME}/modules/mod_actions.so"
LoadModule speling_module "${PRODUCT_HOME}/modules/mod_speling.so"
LoadModule userdir_module "${PRODUCT_HOME}/modules/mod_userdir.so"
LoadModule alias_module "${PRODUCT_HOME}/modules/mod_alias.so"
LoadModule auth_basic_module "${PRODUCT_HOME}/modules/mod_auth_basic.so"
LoadModule authn_anon_module "${PRODUCT_HOME}/modules/mod_authn_anon.so"
LoadModule authn_core_module "${PRODUCT_HOME}/modules/mod_authn_core.so"
LoadModule authn_file_module "${PRODUCT_HOME}/modules/mod_authn_file.so"
LoadModule authz_core_module "${PRODUCT_HOME}/modules/mod_authz_core.so"
LoadModule authz_groupfile_module "${PRODUCT_HOME}/modules/mod_authz_groupfile.so"
LoadModule authz_host_module "${PRODUCT_HOME}/modules/mod_authz_host.so"
LoadModule authz_user_module "${PRODUCT_HOME}/modules/mod_authz_user.so"
LoadModule proxy_module "${PRODUCT_HOME}/modules/mod_proxy.so"
LoadModule proxy_http_module "${PRODUCT_HOME}/modules/mod_proxy_http.so"
LoadModule proxy_ftp_module "${PRODUCT_HOME}/modules/mod_proxy_ftp.so"
LoadModule proxy_connect_module "${PRODUCT_HOME}/modules/mod_proxy_connect.so"
LoadModule proxy_balancer_module "${PRODUCT_HOME}/modules/mod_proxy_balancer.so"
LoadModule cern_meta_module "${PRODUCT_HOME}/modules/mod_cern_meta.so"
LoadModule expires_module "${PRODUCT_HOME}/modules/mod_expires.so"
LoadModule headers_module "${PRODUCT_HOME}/modules/mod_headers.so"
LoadModule usertrack_module "${PRODUCT_HOME}/modules/mod_usertrack.so"
LoadModule unique_id_module "${PRODUCT_HOME}/modules/mod_unique_id.so"
LoadModule setenvif_module "${PRODUCT_HOME}/modules/mod_setenvif.so"
LoadModule context_module "${PRODUCT_HOME}/modules/mod_context.so"
LoadModule rewrite_module "${PRODUCT_HOME}/modules/mod_rewrite.so"
LoadModule log_forensic_module "${PRODUCT_HOME}/modules/mod_log_forensic.so"
LoadModule version_module "${PRODUCT_HOME}/modules/mod_version.so"
#LoadModule authz_owner_module "${PRODUCT_HOME}/modules/mod_authz_owner.so"
#LoadModule cache_module "${PRODUCT_HOME}/modules/mod_cache.so"
LoadModule file_cache_module "${PRODUCT_HOME}/modules/mod_file_cache.so"
LoadModule vhost_alias_module "${PRODUCT_HOME}/modules/mod_vhost_alias.so"


<IfModule !mpm_winnt_module>
 LoadModule unixd_module "${PRODUCT_HOME}/modules/mod_unixd.so"
</IfModule>
LoadModule slotmem_shm_module "${PRODUCT_HOME}/modules/mod_slotmem_shm.so"
LoadModule odl_log_module "${PRODUCT_HOME}/modules/mod_odl_log.so"
LoadModule socache_shmcb_module "${PRODUCT_HOME}/modules/mod_socache_shmcb.so"

<IfDefine OHS_MPM_EVENT>
 LoadModule mpm_event_module "${PRODUCT_HOME}/modules/mod_mpm_event.so"
</IfDefine>
<IfDefine OHS_MPM_WORKER>
 LoadModule mpm_worker_module "${PRODUCT_HOME}/modules/mod_mpm_worker.so"
</IfDefine>
<IfDefine OHS_MPM_PREFORK>
 LoadModule mpm_prefork_module "${PRODUCT_HOME}/modules/mod_mpm_prefork.so"
</IfDefine>


# Comment this out to globally disable client SSL.
LoadModule ossl_module        "${PRODUCT_HOME}/modules/mod_ossl.so"

<IfModule dumpio_module>
 DumpIOInput On
 DumpIOOutput On
</IfModule>

<IfModule mod_rewrite.c>
 RewriteEngine on
 RewriteCond %{REQUEST_METHOD} ^OPTIONS
 RewriteRule .* . [F]
</IfModule>

ServerName http://localhost:7778

<Directory />
 AllowOverride none
 Require all denied
</Directory>

DocumentRoot /home/weblogic/test_doc
<Directory "${ORACLE_INSTANCE}/config/fmwconfig/components/${COMPONENT_TYPE}/instances/${COMPONENT_NAME}/htdocs">
 
 Options Indexes FollowSymLinks
 AllowOverride None
 Require all granted
</Directory>

<IfModule dir_module>
 DirectoryIndex index.html
</IfModule>

<FilesMatch "^\.ht">
 Require all denied
</FilesMatch>

OraLogDir "${ORACLE_INSTANCE}/servers/${COMPONENT_NAME}/logs"
OraLogMode odl-text
OraLogSeverity WARNING:32
OraLogRotationParams S 10:70

OraAuditEnable On
LogFormat "%h %l %u %t %E \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
LogFormat "%h %l %u %t %E \"%r\" %>s %b" common

<IfModule logio_module>
 LogFormat "%h %l %u %t %E \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\" %I %O" combinedio
</IfModule>

CustomLog "||${PRODUCT_HOME}/bin/odl_rotatelogs ${ORACLE_INSTANCE}/servers/${COMPONENT_NAME}/logs/access_log 43200" common

<IfModule alias_module>
 ScriptAlias /cgi-bin/ "${ORACLE_INSTANCE}/config/fmwconfig/components/${COMPONENT_TYPE}/instances/${COMPONENT_NAME}/cgi-bin/"
</IfModule>

<IfModule cgid_module>
 Scriptsock "${ORACLE_HOME}/network/log/cgisock"
</IfModule>

<Directory "${ORACLE_INSTANCE}/config/fmwconfig/components/${COMPONENT_TYPE}/instances/${COMPONENT_NAME}/cgi-bin">
 AllowOverride None
 Options None
 Require all granted
</Directory>

<IfModule mime_module>
 TypesConfig "${ORACLE_INSTANCE}/config/fmwconfig/components/${COMPONENT_TYPE}/instances/${COMPONENT_NAME}/mime.types"
 
 AddType application/x-compress .Z
 AddType application/x-gzip .gz .tgz 
</IfModule>

PidFile "${ORACLE_INSTANCE}/servers/${COMPONENT_NAME}/logs/httpd.pid"

<IfModule mpm_prefork_module>
 StartServers             5
 MinSpareServers          5
 MaxSpareServers         10
 MaxRequestWorkers      250
 MaxConnectionsPerChild   0
 Mutex fcntl:${ORACLE_INSTANCE}/servers/${COMPONENT_NAME}/logs
</IfModule>

 StartServers              3
 MinSpareThreads          75
 MaxSpareThreads         250
 ThreadsPerChild          25
 MaxRequestWorkers       400
 MaxConnectionsPerChild    0
 Mutex fcntl:${ORACLE_INSTANCE}/servers/${COMPONENT_NAME}/logs
</IfModule>

<IfModule mpm_event_module>
 StartServers               3
 MinSpareThreads           75
 MaxSpareThreads          250
 ThreadsPerChild           25
 MaxRequestWorkers        400
 MaxConnectionsPerChild     0
 AsyncRequestWorkerFactor   2
 Mutex fcntl:${ORACLE_INSTANCE}/servers/${COMPONENT_NAME}/logs
</IfModule>

<IfModule mpm_winnt_module>
 ThreadsPerChild        150
 MaxConnectionsPerChild   0
 Mutex default:${ORACLE_INSTANCE}/servers/${COMPONENT_NAME}/logs
</IfModule>

MaxMemFree                2048

<IfDefine ENABLE_ERRORDOC>
 
 Alias /error/ "${ORACLE_INSTANCE}/config/fmwconfig/components/${COMPONENT_TYPE}/instances/${COMPONENT_NAME}/error/"
 
 <Directory "${ORACLE_INSTANCE}/config/fmwconfig/components/${COMPONENT_TYPE}/instances/${COMPONENT_NAME}/error">
  AllowOverride None
  Options IncludesNoExec
  AddOutputFilter Includes html
  AddHandler type-map var
  Require all granted
  LanguagePriority en cs de es fr it ja ko nl pl pt-br ro sv tr
  ForceLanguagePriority Prefer Fallback
 </Directory>
 
 ErrorDocument 400 /error/HTTP_BAD_REQUEST.html.var
 ErrorDocument 401 /error/HTTP_UNAUTHORIZED.html.var
 ErrorDocument 403 /error/HTTP_FORBIDDEN.html.var
 ErrorDocument 404 /error/HTTP_NOT_FOUND.html.var
 ErrorDocument 405 /error/HTTP_METHOD_NOT_ALLOWED.html.var
 ErrorDocument 408 /error/HTTP_REQUEST_TIME_OUT.html.var
 ErrorDocument 410 /error/HTTP_GONE.html.var
 ErrorDocument 411 /error/HTTP_LENGTH_REQUIRED.html.var
 ErrorDocument 412 /error/HTTP_PRECONDITION_FAILED.html.var
 ErrorDocument 413 /error/HTTP_REQUEST_ENTITY_TOO_LARGE.html.var
 ErrorDocument 414 /error/HTTP_REQUEST_URI_TOO_LARGE.html.var
 ErrorDocument 415 /error/HTTP_UNSUPPORTED_MEDIA_TYPE.html.var
 ErrorDocument 500 /error/HTTP_INTERNAL_SERVER_ERROR.html.var
 ErrorDocument 501 /error/HTTP_NOT_IMPLEMENTED.html.var
 ErrorDocument 502 /error/HTTP_BAD_GATEWAY.html.var
 ErrorDocument 503 /error/HTTP_SERVICE_UNAVAILABLE.html.var
 ErrorDocument 506 /error/HTTP_VARIANT_ALSO_VARIES.html.var
</IfDefine>

<IfDefine ENABLE_FANCYINDEXING>
 
 IndexOptions FancyIndexing HTMLTable VersionSort
 
 # We include the /icons/ alias for FancyIndexed directory listings.  If
 # you do not use FancyIndexing, you may comment this out.
 #
 Alias /icons/ "${PRODUCT_HOME}/icons/"
 
 <Directory "${PRODUCT_HOME}/icons">
  Options Indexes MultiViews
  AllowOverride None
  Require all granted
 </Directory>
 
 #
 # AddIcon* directives tell the server which icon to show for different
 # files or filename extensions.  These are only displayed for
 # FancyIndexed directories.
 #
 AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip
 
 AddIconByType (TXT,/icons/text.gif) text/*
 AddIconByType (IMG,/icons/image2.gif) image/*
 AddIconByType (SND,/icons/sound2.gif) audio/*
 AddIconByType (VID,/icons/movie.gif) video/*
 
 AddIcon /icons/binary.gif .bin .exe
 AddIcon /icons/binhex.gif .hqx
 AddIcon /icons/tar.gif .tar
 AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv
 AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip
 AddIcon /icons/a.gif .ps .ai .eps
 AddIcon /icons/layout.gif .html .shtml .htm .pdf
 AddIcon /icons/text.gif .txt
 AddIcon /icons/c.gif .c
 AddIcon /icons/p.gif .pl .py
 AddIcon /icons/f.gif .for
 AddIcon /icons/dvi.gif .dvi
 AddIcon /icons/uuencoded.gif .uu
 AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl
 AddIcon /icons/tex.gif .tex
 AddIcon /icons/bomb.gif core
 
 AddIcon /icons/back.gif ..
 AddIcon /icons/hand.right.gif README
 AddIcon /icons/folder.gif ^^DIRECTORY^^
 AddIcon /icons/blank.gif ^^BLANKICON^^
 
 DefaultIcon /icons/unknown.gif
 
 ReadmeName README.html
 HeaderName HEADER.html
 
 IndexIgnore .??* *~ *# HEADER* README* RCS CVS *,v *,t
</IfDefine>

AddLanguage ca .ca
AddLanguage cs .cz .cs
AddLanguage da .dk
AddLanguage de .de
AddLanguage el .el
AddLanguage en .en
AddLanguage eo .eo
AddLanguage es .es
AddLanguage et .et
AddLanguage fr .fr
AddLanguage he .he
AddLanguage hr .hr
AddLanguage it .it
AddLanguage ja-JP .ja
AddLanguage ko .ko
AddLanguage ltz .ltz
AddLanguage nl .nl
AddLanguage nn .nn
AddLanguage no .no
AddLanguage pl .po
AddLanguage pt .pt
AddLanguage pt-BR .pt-br
AddLanguage ru .ru
AddLanguage sv .sv
AddLanguage tr .tr
AddLanguage zh-CN .zh-cn
AddLanguage zh-TW .zh-tw

# LanguagePriority allows you to give precedence to some languages
# in case of a tie during content negotiation.
#
# Just list the languages in decreasing order of preference. We have
# more or less alphabetized them here. You probably want to change this.
#
LanguagePriority en ca cs da de el eo es et fr he hr it ja-JP ko ltz nl nn no pl pt pt-BR ru sv tr zh-CN zh-TW

#
# ForceLanguagePriority allows you to serve a result page rather than
# MULTIPLE CHOICES (Prefer) [in case of a tie] or NOT ACCEPTABLE (Fallback)
# [in case no accepted languages matched the available variants]
#
ForceLanguagePriority Prefer Fallback

#
# Commonly used filename extensions to character sets. You probably
# want to avoid clashes with the language extensions, unless you
# are good at carefully testing your setup after each change.
# See http://www.iana.org/assignments/character-sets for the
# official list of charset names and their respective RFCs.
#
AddCharset us-ascii.ascii .us-ascii
AddCharset ISO-8859-1  .iso8859-1  .latin1
AddCharset ISO-8859-2  .iso8859-2  .latin2 .cen
AddCharset ISO-8859-3  .iso8859-3  .latin3
AddCharset ISO-8859-4  .iso8859-4  .latin4
AddCharset ISO-8859-5  .iso8859-5  .cyr .iso-ru
AddCharset ISO-8859-6  .iso8859-6  .arb .arabic
AddCharset ISO-8859-7  .iso8859-7  .grk .greek
AddCharset ISO-8859-8  .iso8859-8  .heb .hebrew
AddCharset ISO-8859-9  .iso8859-9  .latin5 .trk
AddCharset ISO-8859-10  .iso8859-10  .latin6
AddCharset ISO-8859-13  .iso8859-13
AddCharset ISO-8859-14  .iso8859-14  .latin8
AddCharset ISO-8859-15  .iso8859-15  .latin9
AddCharset ISO-8859-16  .iso8859-16  .latin10
AddCharset ISO-2022-JP .iso2022-jp .jis
AddCharset ISO-2022-KR .iso2022-kr .kis
AddCharset ISO-2022-CN .iso2022-cn .cis
AddCharset Big5.Big5   .big5 .b5
AddCharset cn-Big5 .cn-big5
# For russian, more than one charset is used (depends on client, mostly):
AddCharset WINDOWS-1251 .cp-1251   .win-1251
AddCharset CP866   .cp866
AddCharset KOI8  .koi8
AddCharset KOI8-E  .koi8-e
AddCharset KOI8-r  .koi8-r .koi8-ru
AddCharset KOI8-U  .koi8-u
AddCharset KOI8-ru .koi8-uk .ua
AddCharset ISO-10646-UCS-2 .ucs2
AddCharset ISO-10646-UCS-4 .ucs4
AddCharset UTF-7   .utf7
AddCharset UTF-8   .utf8
AddCharset UTF-16  .utf16
AddCharset UTF-16BE .utf16be
AddCharset UTF-16LE .utf16le
AddCharset UTF-32  .utf32
AddCharset UTF-32BE .utf32be
AddCharset UTF-32LE .utf32le
AddCharset euc-cn  .euc-cn
AddCharset euc-gb  .euc-gb
AddCharset euc-jp  .euc-jp
AddCharset euc-kr  .euc-kr
#Not sure how euc-tw got in - IANA doesn't list it???
AddCharset EUC-TW  .euc-tw
AddCharset gb2312  .gb2312 .gb
AddCharset iso-10646-ucs-2 .ucs-2 .iso-10646-ucs-2
AddCharset iso-10646-ucs-4 .ucs-4 .iso-10646-ucs-4
AddCharset shift_jis   .shift_jis .sjis

<IfDefine ENABLE_USERDIR>
  UserDir public_html 
 <Directory "/home/*/public_html">
  AllowOverride FileInfo AuthConfig Limit Indexes
  Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
  Require method GET POST OPTIONS
 </Directory>
</IfDefine>

ExtendedStatus Off

<IfDefine ENABLE_MANUAL>
 
 AliasMatch ^/manual(?:/(?:da|de|en|es|fr|ja|ko|pt-br|ru|tr|zh-cn))?(/.*)?$ "${PRODUCT_HOME}/manual$1"
 
 <Directory "${PRODUCT_HOME}/manual">
  Options Indexes
  AllowOverride None
  Require all granted
  
  <Files *.html>
   SetHandler type-map
  </Files>
  # .tr is text/troff in mime.types!
  <Files *.html.tr.utf8>
   ForceType text/html
  </Files>
  
  AddLanguage da .da
  
  SetEnvIf Request_URI ^/manual/(da|de|en|es|fr|ja|ko|pt-br|ru|tr|zh-cn)/ prefer-language=$1
  RedirectMatch 301 ^/manual(?:/(da|de|en|es|fr|ja|ko|pt-br|ru|tr|zh-cn)){2,}(/.*)?$ /manual/$1$2
  
  LanguagePriority en da de es fr ja ko pt-br ru tr
  ForceLanguagePriority Prefer Fallback
 </Directory>
</IfDefine>

Timeout 60

KeepAlive On

MaxKeepAliveRequests 100

KeepAliveTimeout 5

UseCanonicalName On
AccessFileName .htaccess
ServerTokens None

ServerSignature Off
TraceEnable off
HostnameLookups Off

#
# Add this response header to disable content sniffing
<IfModule mod_headers.c>
 Header always set X-Content-Type-Options nosniff
</IfModule>

#
# Add this response header to enable Cross-site scripting (XSS) filter built
# into most recent web browsers.
<IfModule mod_headers.c>
 Header setifempty X-XSS-Protection "1; mode=block"
</IfModule>
LoadModule reqtimeout_module "${PRODUCT_HOME}/modules/mod_reqtimeout.so"
<IfModule reqtimeout_module>
 RequestReadTimeout header=5-40,MinRate=500 body=10,MinRate=500
</IfModule>

BrowserMatch "Mozilla/2" nokeepalive
BrowserMatch "MSIE 4\.0b2;" nokeepalive downgrade-1.0 force-response-1.0
BrowserMatch "RealPlayer 4\.0" force-response-1.0
BrowserMatch "Java/1\.0" force-response-1.0
BrowserMatch "JDK/1\.0" force-response-1.0

# Include the configuration files needed for mod_weblogic
include "mod_wl_ohs.conf"

# Include the SSL definitions and Virtual Host container
include "ssl.conf"

# Include the admin virtual host (Proxy Virtual Host) related configuration
include "admin.conf"

IncludeOptional "moduleconf/*.conf"
